!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("ngx-bootstrap/datepicker"),require("ngx-bootstrap/typeahead"),require("rxjs/operators"),require("@angular/forms"),require("@ngx-translate/core"),require("@rucken/core"),require("@custom-org/custom-lib"),require("ngx-repository"),require("@angular/common"),require("@angular/core"),require("@rucken/web"),require("ngx-bind-io")):"function"==typeof define&&define.amd?define("@custom-org/custom-lib-web",["exports","ngx-bootstrap/datepicker","ngx-bootstrap/typeahead","rxjs/operators","@angular/forms","@ngx-translate/core","@rucken/core","@custom-org/custom-lib","ngx-repository","@angular/common","@angular/core","@rucken/web","ngx-bind-io"],e):e((t["custom-org"]=t["custom-org"]||{},t["custom-org"]["custom-lib-web"]={}),t.datepicker,t.typeahead,t.rxjs.operators,t.ng.forms,t.core,t.core$1,t.customLib,t.ngxRepository,t.ng.common,t.ng.core,t.web,t.ngxBindIo)}(this,function(t,e,o,r,a,n,s,c,i,l,u,d,p){"use strict";var m={},y={title:s.translate("Russian"),code:"ru",translations:[m]},g={title:s.translate("English"),code:"en",translations:[]},f=(h.decorators=[{type:u.NgModule,args:[{imports:[l.CommonModule],providers:[{provide:s.LANGUAGES_ITEM_CONFIG_TOKEN,useValue:y,multi:!0},{provide:s.LANGUAGES_ITEM_CONFIG_TOKEN,useValue:g,multi:!0}]}]}],h);function h(){}var C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function M(t,e){function o(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var E=function(){return(E=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function I(t,e,o,r){var n,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(i<3?n(a):3<i?n(e,o,a):n(e,o))||a);return 3<i&&a&&Object.defineProperty(e,o,a),a}function v(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var O,b=(M(S,O=s.BaseEntityListModalComponent),S.decorators=[{type:u.Component,args:[{selector:"custom-entities-grid-modal",template:'<entity-grid-modal [bindIO]>\n  <custom-entities-grid [apiUrl]="apiUrl" #grid> </custom-entities-grid>\n</entity-grid-modal>\n',changeDetection:u.ChangeDetectionStrategy.OnPush}]}],S.ctorParameters=function(){return[]},S.propDecorators={grid:[{type:u.ViewChild,args:["grid"]}],apiUrl:[{type:u.Input}]},S=I([p.BindIoInner(),v("design:paramtypes",[])],S));function S(){var t=O.call(this)||this;return t.apiUrl=undefined,t}var x,N=(M(_,x=s.BasePromptFormModalComponent),_.decorators=[{type:u.Component,args:[{selector:"custom-entity-modal",template:'<form [formGroup]="form" novalidate>\n  <prompt-form-modal [bindIO]>\n    <div class="row">\n      <div class="col-md-12">\n        <form-group [bindIO] name="title" [title]="strings.title" focus>\n          <input formControlName="title" [readonly]="readonly" />\n        </form-group>\n      </div>\n      <div class="col-md-12">\n        <form-group [bindIO] name="name" [title]="strings.name">\n          <textarea formControlName="name" [readonly]="readonly"> </textarea>\n        </form-group>\n      </div>\n    </div>\n  </prompt-form-modal>\n</form>\n',changeDetection:u.ChangeDetectionStrategy.OnPush}]}],_.ctorParameters=function(){return[]},_.propDecorators={apiUrl:[{type:u.Input}]},_=I([p.BindIoInner(),v("design:paramtypes",[])],_));function _(){var t=x.call(this)||this;return t.apiUrl=undefined,t.group(c.CustomEntity),t}var D=(k.decorators=[{type:u.NgModule,args:[{imports:[l.CommonModule,d.PromptFormModalModule,e.BsDatepickerModule,o.TypeaheadModule.forRoot(),p.NgxBindIOModule],declarations:[N],entryComponents:[N],exports:[N,d.PromptFormModalModule,e.BsDatepickerModule]}]}],k);function k(){}var T,G=(M(R,T=s.BaseEntityListComponent),R.prototype.ngOnInit=function(){this.mockedItems||this.useRest(E({apiUrl:this.apiUrl},this.customEntitiesConfig,{autoload:this.autoload})),this.mockedItems&&this.useMock(E({items:this.mockedItems},this.customEntitiesConfig,{autoload:this.autoload})),this.items$=this.repository.items$.pipe(r.map(function(t){return t.map(function(t){return t})}))},R.prototype.defaultCreateCreateModal=function(t){return t=t||new c.CustomEntity,this.modalCreate=E({},this.modalCreate,{initialState:E({},this.modalCreate.initialState,{data:t})}),T.prototype.defaultCreateCreateModal.call(this,t)},R.prototype.defaultCreateUpdateModal=function(t){return this.modalUpdate=E({},this.modalUpdate,{initialState:E({},this.modalUpdate.initialState,{data:t})}),T.prototype.defaultCreateUpdateModal.call(this,t)},R.decorators=[{type:u.Component,args:[{selector:"custom-entities-grid",template:"<entity-grid\n  [bindIO]\n  [columns]=\"['title', 'name', 'action']\"\n  [enableCreate]=\"'add_custom-entity' | perm: false | async\"\n  [enableUpdate]=\"'change_custom-entity' | perm: false | async\"\n  [enableDelete]=\"'delete_custom-entity' | perm: false | async\"\n>\n</entity-grid>\n",changeDetection:u.ChangeDetectionStrategy.OnPush}]}],R.ctorParameters=function(){return[{type:s.ModalsService},{type:s.ErrorsExtractor},{type:n.TranslateService},{type:i.DynamicRepository},{type:undefined,decorators:[{type:u.Inject,args:[c.CUSTOM_ENTITIES_CONFIG_TOKEN]}]}]},R.propDecorators={autoload:[{type:u.Input}],modalItem:[{type:u.Input}],title:[{type:u.Input}]},R=I([p.BindIoInner(),v("design:paramtypes",[s.ModalsService,s.ErrorsExtractor,n.TranslateService,i.DynamicRepository,Object])],R));function R(t,e,o,r,n){var i=T.call(this,r.fork(c.CustomEntity),t,c.CustomEntity)||this;return i.errorsExtractor=e,i.translateService=o,i.dynamicRepository=r,i.customEntitiesConfig=n,i.autoload=!1,i.modalItem={component:N},i.title=s.translate("Custom entities"),i}var U=(P.decorators=[{type:u.NgModule,args:[{imports:[l.CommonModule,d.WebModalsModule,d.EntityGridModule,D,p.NgxBindIOModule],declarations:[G],exports:[G,d.EntityGridModule,D]}]}],P);function P(){}var j=(B.decorators=[{type:u.NgModule,args:[{imports:[l.CommonModule,d.EntityGridModalModule,U,p.NgxBindIOModule],declarations:[b],entryComponents:[b],exports:[b,d.EntityGridModalModule,U]}]}],B);function B(){}var F,w=(M(q,F=G),q.prototype.ngOnInit=function(){var e=this;this.mockedItems=[],this.useMock(E({items:this.mockedItems},this.customEntitiesConfig)),this.mockedItemsChange.subscribe(function(t){return e.onSelect(t[0])})},q.prototype.onSelect=function(t){this.select.emit(t)},q.decorators=[{type:u.Component,args:[{selector:"custom-entity-input",template:'<entity-input [readonly]="readonly" (select)="onAppendFromGridClick($event)">\n  <ng-content></ng-content>\n</entity-input>\n',changeDetection:u.ChangeDetectionStrategy.OnPush}]}],q.ctorParameters=function(){return[{type:s.ModalsService},{type:s.ErrorsExtractor},{type:n.TranslateService},{type:i.DynamicRepository},{type:undefined,decorators:[{type:u.Inject,args:[c.CUSTOM_ENTITIES_CONFIG_TOKEN]}]}]},q.propDecorators={modalAppendFromGrid:[{type:u.Input}],select:[{type:u.Output}]},q=I([p.BindIoInner(),v("design:paramtypes",[s.ModalsService,s.ErrorsExtractor,n.TranslateService,i.DynamicRepository,Object])],q));function q(t,e,o,r,n){var i=F.call(this,t,e,o,r,n)||this;return i.errorsExtractor=e,i.translateService=o,i.dynamicRepository=r,i.customEntitiesConfig=n,i.modalAppendFromGrid={component:b,initialState:{title:s.translate("Select customEntity"),yesTitle:s.translate("Select")}},i.select=new u.EventEmitter,i}var A=(L.decorators=[{type:u.NgModule,args:[{imports:[l.CommonModule,d.EntityInputModule,j,p.NgxBindIOModule],declarations:[w],exports:[w,d.EntityInputModule,j]}]}],L);function L(){}var K,$=(M(V,K=G),V.prototype.ngOnInit=function(){this.mockedItems||this.useRest(E({apiUrl:this.apiUrl},this.customEntitiesConfig,{paginationMeta:{perPage:1e3}})),this.mockedItems&&this.useMock(E({items:this.mockedItems},this.customEntitiesConfig))},V.prototype.checkChange=function(t,e){return e instanceof c.CustomEntity},V.decorators=[{type:u.Component,args:[{selector:"custom-entity-select",template:"<entity-select [bindIO]>\n  <ng-content></ng-content>\n</entity-select>\n",changeDetection:u.ChangeDetectionStrategy.OnPush}]}],V.ctorParameters=function(){return[{type:s.ModalsService},{type:s.ErrorsExtractor},{type:n.TranslateService},{type:i.DynamicRepository},{type:undefined,decorators:[{type:u.Inject,args:[c.CUSTOM_ENTITIES_CONFIG_TOKEN]}]}]},V.propDecorators={searchField:[{type:u.Input}]},V=I([p.BindIoInner(),v("design:paramtypes",[s.ModalsService,s.ErrorsExtractor,n.TranslateService,i.DynamicRepository,Object])],V));function V(t,e,o,r,n){var i=K.call(this,t,e,o,r,n)||this;return i.errorsExtractor=e,i.translateService=o,i.dynamicRepository=r,i.customEntitiesConfig=n,i.searchField=new a.FormControl,i.nameField="title",i}var W=(z.decorators=[{type:u.NgModule,args:[{imports:[l.CommonModule,d.EntitySelectModule,j,p.NgxBindIOModule],declarations:[$],exports:[$,d.EntitySelectModule,j]}]}],z);function z(){}t.RuI18n=m,t.CustomOrgCustomLibWebModule=f,t.CustomEntitiesGridModalComponent=b,t.CustomEntitiesGridModalModule=j,t.CustomEntitiesGridComponent=G,t.CustomEntitiesGridModule=U,t.CustomEntityInputComponent=w,t.CustomEntityInputModule=A,t.CustomEntityModalComponent=N,t.CustomEntityModalModule=D,t.CustomEntitySelectComponent=$,t.CustomEntitySelectModule=W,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=custom-org-custom-lib-web.umd.min.js.map