!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("ngx-bootstrap/datepicker"),require("ngx-bootstrap/typeahead"),require("rxjs/operators"),require("@angular/forms"),require("@ngx-translate/core"),require("@rucken/core"),require("@custom-org/custom-lib"),require("ngx-repository"),require("@angular/common"),require("@angular/core"),require("@rucken/web"),require("ngx-bind-io")):"function"==typeof define&&define.amd?define("@custom-org/custom-lib-web",["exports","ngx-bootstrap/datepicker","ngx-bootstrap/typeahead","rxjs/operators","@angular/forms","@ngx-translate/core","@rucken/core","@custom-org/custom-lib","ngx-repository","@angular/common","@angular/core","@rucken/web","ngx-bind-io"],e):e((t["custom-org"]=t["custom-org"]||{},t["custom-org"]["custom-lib-web"]={}),t.datepicker,t.typeahead,t.rxjs.operators,t.ng.forms,t.core,t.core$1,t.customLib,t.ngxRepository,t.ng.common,t.ng.core,t.web,t.ngxBindIo)}(this,function(t,e,o,n,s,r,c,u,i,a,l,d,p){"use strict";var m={},y={title:c.translate("Russian"),code:"ru",translations:[m]},g={title:c.translate("English"),code:"en",translations:[]},f=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[a.CommonModule],providers:[{provide:c.LANGUAGES_ITEM_CONFIG_TOKEN,useValue:y,multi:!0},{provide:c.LANGUAGES_ITEM_CONFIG_TOKEN,useValue:g,multi:!0}]}]}],t}(),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function C(t,e){function o(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var M=function(){return(M=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function E(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(i<3?r(a):3<i?r(e,o,a):r(e,o))||a);return 3<i&&a&&Object.defineProperty(e,o,a),a}function I(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var O=function(e){function t(){var t=e.call(this)||this;return t.apiUrl=undefined,t}return C(t,e),t.decorators=[{type:l.Component,args:[{selector:"custom-entities-grid-modal",template:'<entity-grid-modal [bindIO]>\n  <custom-entities-grid [apiUrl]="apiUrl" #grid> </custom-entities-grid>\n</entity-grid-modal>\n',changeDetection:l.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[]},t.propDecorators={grid:[{type:l.ViewChild,args:["grid"]}],apiUrl:[{type:l.Input}]},t=E([p.BindIoInner(),I("design:paramtypes",[])],t)}(c.BaseEntityListModalComponent),b=function(e){function t(){var t=e.call(this)||this;return t.apiUrl=undefined,t.group(u.CustomEntity),t}return C(t,e),t.decorators=[{type:l.Component,args:[{selector:"custom-entity-modal",template:'<form [formGroup]="form" novalidate>\n  <prompt-form-modal [bindIO]>\n    <div class="row">\n      <div class="col-md-12">\n        <form-group [bindIO] name="title" [title]="strings.title" focus>\n          <input formControlName="title" [readonly]="readonly" />\n        </form-group>\n      </div>\n      <div class="col-md-12">\n        <form-group [bindIO] name="name" [title]="strings.name">\n          <textarea formControlName="name" [readonly]="readonly"> </textarea>\n        </form-group>\n      </div>\n    </div>\n  </prompt-form-modal>\n</form>\n',changeDetection:l.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[]},t.propDecorators={apiUrl:[{type:l.Input}]},t=E([p.BindIoInner(),I("design:paramtypes",[])],t)}(c.BasePromptFormModalComponent),v=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[a.CommonModule,d.PromptFormModalModule,e.BsDatepickerModule,o.TypeaheadModule.forRoot(),p.NgxBindIOModule],declarations:[b],entryComponents:[b],exports:[b,d.PromptFormModalModule,e.BsDatepickerModule]}]}],t}(),S=function(a){function t(t,e,o,n,r){var i=a.call(this,n.fork(u.CustomEntity),t,u.CustomEntity)||this;return i.errorsExtractor=e,i.translateService=o,i.dynamicRepository=n,i.customEntitiesConfig=r,i.autoload=!1,i.modalItem={component:b},i.title=c.translate("Custom entities"),i}return C(t,a),t.prototype.ngOnInit=function(){this.mockedItems||this.useRest(M({apiUrl:this.apiUrl},this.customEntitiesConfig,{autoload:this.autoload})),this.mockedItems&&this.useMock(M({items:this.mockedItems},this.customEntitiesConfig,{autoload:this.autoload})),this.items$=this.repository.items$.pipe(n.map(function(t){return t.map(function(t){return t})}))},t.prototype.defaultCreateCreateModal=function(t){return t=t||new u.CustomEntity,this.modalCreate=M({},this.modalCreate,{initialState:M({},this.modalCreate.initialState,{data:t})}),a.prototype.defaultCreateCreateModal.call(this,t)},t.prototype.defaultCreateUpdateModal=function(t){return this.modalUpdate=M({},this.modalUpdate,{initialState:M({},this.modalUpdate.initialState,{data:t})}),a.prototype.defaultCreateUpdateModal.call(this,t)},t.decorators=[{type:l.Component,args:[{selector:"custom-entities-grid",template:"<entity-grid\n  [bindIO]\n  [columns]=\"['title', 'name', 'action']\"\n  [enableCreate]=\"'add_custom-entity' | perm: false | async\"\n  [enableUpdate]=\"'change_custom-entity' | perm: false | async\"\n  [enableDelete]=\"'delete_custom-entity' | perm: false | async\"\n>\n</entity-grid>\n",changeDetection:l.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:c.ModalsService},{type:c.ErrorsExtractor},{type:r.TranslateService},{type:i.DynamicRepository},{type:undefined,decorators:[{type:l.Inject,args:[u.CUSTOM_ENTITIES_CONFIG_TOKEN]}]}]},t.propDecorators={autoload:[{type:l.Input}],modalItem:[{type:l.Input}],title:[{type:l.Input}]},t=E([p.BindIoInner(),I("design:paramtypes",[c.ModalsService,c.ErrorsExtractor,r.TranslateService,i.DynamicRepository,Object])],t)}(c.BaseEntityListComponent),x=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[a.CommonModule,d.WebModalsModule,d.EntityGridModule,v,p.NgxBindIOModule],declarations:[S],exports:[S,d.EntityGridModule,v]}]}],t}(),N=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[a.CommonModule,d.EntityGridModalModule,x,p.NgxBindIOModule],declarations:[O],entryComponents:[O],exports:[O,d.EntityGridModalModule,x]}]}],t}(),_=function(a){function t(t,e,o,n,r){var i=a.call(this,t,e,o,n,r)||this;return i.errorsExtractor=e,i.translateService=o,i.dynamicRepository=n,i.customEntitiesConfig=r,i.modalAppendFromGrid={component:O,initialState:{title:c.translate("Select customEntity"),yesTitle:c.translate("Select")}},i.select=new l.EventEmitter,i}return C(t,a),t.prototype.ngOnInit=function(){var e=this;this.mockedItems=[],this.useMock(M({items:this.mockedItems},this.customEntitiesConfig)),this.mockedItemsChange.subscribe(function(t){return e.onSelect(t[0])})},t.prototype.onSelect=function(t){this.select.emit(t)},t.decorators=[{type:l.Component,args:[{selector:"custom-entity-input",template:'<entity-input [readonly]="readonly" (select)="onAppendFromGridClick($event)">\n  <ng-content></ng-content>\n</entity-input>\n',changeDetection:l.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:c.ModalsService},{type:c.ErrorsExtractor},{type:r.TranslateService},{type:i.DynamicRepository},{type:undefined,decorators:[{type:l.Inject,args:[u.CUSTOM_ENTITIES_CONFIG_TOKEN]}]}]},t.propDecorators={modalAppendFromGrid:[{type:l.Input}],select:[{type:l.Output}]},t=E([p.BindIoInner(),I("design:paramtypes",[c.ModalsService,c.ErrorsExtractor,r.TranslateService,i.DynamicRepository,Object])],t)}(S),D=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[a.CommonModule,d.EntityInputModule,N,p.NgxBindIOModule],declarations:[_],exports:[_,d.EntityInputModule,N]}]}],t}(),k=function(a){function t(t,e,o,n,r){var i=a.call(this,t,e,o,n,r)||this;return i.errorsExtractor=e,i.translateService=o,i.dynamicRepository=n,i.customEntitiesConfig=r,i.searchField=new s.FormControl,i.nameField="title",i}return C(t,a),t.prototype.ngOnInit=function(){this.mockedItems||this.useRest(M({apiUrl:this.apiUrl},this.customEntitiesConfig,{paginationMeta:{perPage:1e3}})),this.mockedItems&&this.useMock(M({items:this.mockedItems},this.customEntitiesConfig))},t.prototype.checkChange=function(t,e){return e instanceof u.CustomEntity},t.decorators=[{type:l.Component,args:[{selector:"custom-entity-select",template:"<entity-select [bindIO]>\n  <ng-content></ng-content>\n</entity-select>\n",changeDetection:l.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:c.ModalsService},{type:c.ErrorsExtractor},{type:r.TranslateService},{type:i.DynamicRepository},{type:undefined,decorators:[{type:l.Inject,args:[u.CUSTOM_ENTITIES_CONFIG_TOKEN]}]}]},t.propDecorators={searchField:[{type:l.Input}]},t=E([p.BindIoInner(),I("design:paramtypes",[c.ModalsService,c.ErrorsExtractor,r.TranslateService,i.DynamicRepository,Object])],t)}(S),T=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[a.CommonModule,d.EntitySelectModule,N,p.NgxBindIOModule],declarations:[k],exports:[k,d.EntitySelectModule,N]}]}],t}();t.RuI18n=m,t.CustomOrgCustomLibWebModule=f,t.CustomEntitiesGridModalComponent=O,t.CustomEntitiesGridModalModule=N,t.CustomEntitiesGridComponent=S,t.CustomEntitiesGridModule=x,t.CustomEntityInputComponent=_,t.CustomEntityInputModule=D,t.CustomEntityModalComponent=b,t.CustomEntityModalModule=v,t.CustomEntitySelectComponent=k,t.CustomEntitySelectModule=T,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=custom-org-custom-lib-web.umd.min.js.map