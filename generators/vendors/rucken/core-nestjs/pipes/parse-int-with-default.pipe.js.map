{"version":3,"file":"parse-int-with-default.pipe.js","sourceRoot":"","sources":["../../../../libs/rucken/core-nestjs/src/pipes/parse-int-with-default.pipe.ts"],"names":[],"mappings":";;;AAAA,2CAA6E;AAG7E,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;IAClC,YAA6B,YAAoB;QAApB,iBAAY,GAAZ,YAAY,CAAQ;IAAG,CAAC;IAE/C,SAAS,CAAC,KAAa,EAAE,QAA0B;;YACvD,IAAI,GAAG,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAC9B,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE;gBACd,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;aACzB;YACD,OAAO,GAAG,CAAC;QACb,CAAC;KAAA;CACF,CAAA;AAVY,uBAAuB;IADnC,mBAAU,EAAE;;GACA,uBAAuB,CAUnC;AAVY,0DAAuB","sourcesContent":["import { ArgumentMetadata, Injectable, PipeTransform } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntWithDefaultPipe implements PipeTransform<string> {\n  constructor(private readonly defaultValue: number) {}\n\n  async transform(value: string, metadata: ArgumentMetadata) {\n    let val = parseInt(value, 10);\n    if (isNaN(val)) {\n      val = this.defaultValue;\n    }\n    return val;\n  }\n}\n"]}